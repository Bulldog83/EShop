<h3>Products</h3>
<form class="row my-1 mx-auto" ng-submit="loadProducts()">
	<div class="input-group mb-1">
		<span class="input-group-text">Product title</span>
		<input id="title" type="text" class="form-control" ng-model="products_data.title" />
	</div>
	<div class="input-group">
		<span class="input-group-text">Min and Max Price</span>
		<input class="form-control" type="number" step=".01" ng-model="products_data.minPrice">
		<input class="form-control" type="number" step=".01" ng-model="products_data.maxPrice">
		<button type="submit" class="btn btn-primary ml-1">Apply</button>
	</div>
</form>
<table class="table">
	<thead class="table-secondary">
	<tr>
		<th scope="col">#</th>
		<th scope="col">ID</th>
		<th scope="col">Category</th>
		<th scope="col">Title</th>
		<th scope="col">Price</th>
		<th scope="col">&nbsp;</th>
		<th scope="col">&nbsp;</th>
		<th scope="col">&nbsp;</th>
	</tr>
	</thead>
	<tbody>
	<tr ng-repeat="product in page.content">
		<th scope="row">{{page.size * page.number + $index + 1}}</th>
		<td>{{product.id}}</td>
		<td>{{product.category}}</td>
		<td>{{product.title}}</td>
		<td>{{product.price}}</td>
		<td>
			<button type="button" class="btn btn-outline-primary" title="Details">
				<i class="bi bi-info-circle-fill"></i>
			</button>
		</td>
		<td>
			<button type="button" class="btn btn-outline-primary" ng-click="addToCart(product.id)" title="To Cart">
				<i class="bi bi-basket-fill"></i>
			</button>
		</td>
		<td ng-show="hasPermission('MANAGE_PRODUCTS')">
			<button type="button" class="btn btn-outline-danger" ng-click="deleteProduct($index, product.id)" title="Delete">
				<i class="bi bi-x-square-fill"></i>
			</button>
		</td>
	</tr>
	</tbody>
</table>
<nav aria-label="page navigation">
	<ul class="pagination">
		<li ng-class="['page-item', {'disabled': page.first}]">
			<button class="page-link" aria-label="Previous" ng-click="loadPage(products_data.page - 1)">&laquo;</button>
		</li>
		<li ng-repeat="pIdx in pages" ng-class="['page-item', {'active': page.number==pIdx}]">
			<button class="page-link" ng-click="loadPage(pIdx + 1)">{{pIdx + 1}}</button>
		</li>
		<li ng-class="['page-item', {'disabled': page.last}]">
			<button class="page-link" aria-label="Next" ng-click="loadPage(products_data.page + 1)">&raquo;</button>
		</li>
	</ul>
</nav>