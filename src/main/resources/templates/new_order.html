<html ng-app="eshop" lang="en">
<head>
	<meta charset="UTF-8">
	<title>E-Stationery: Orders</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.11/ngStorage.min.js"></script>
	<script src="/js/global.js"></script>
	<script src="/js/new_order.js"></script>
</head>
<body ng-controller="singleOrderController">
<div class="container">
	<ng-include src="'/fragments/navigation.html'"></ng-include>
	<h3>New order</h3>
	<div ng-show="orderData.items.length > 0">
		<form ng-submit="createOrder()" novalidate>
			<div class="form-group col-md-6 mb-3">
				<label for="address">Address</label>
				<input id="address" class="form-control" ng-model="orderData.address" type="text">
			</div>
			<div class="form-group col-md-6">
				<label for="phone">Phone</label>
				<input id="phone" class="form-control" ng-model="orderData.phone" type="text" pattern="[\d-]+">
			</div>
			<h4>Contains:</h4>
			<table class="table">
				<thead class="table-secondary">
				<tr>
					<th scope="col">#</th>
					<th scope="col">Title</th>
					<th scope="col">Count</th>
					<th scope="col">Price</th>
					<th scope="col">Sum</th>
				</tr>
				</thead>
				<tbody>
				<tr ng-repeat="item in orderData.items">
					<th scope="row">{{$index + 1}}</th>
					<td>{{item.title}}</td>
					<td>{{item.count}}</td>
					<td>{{item.price}}</td>
					<td>{{item.sum}}</td>
				</tr>
				</tbody>
				<tfoot>
				<tr class="table-primary">
					<th scope="row" colspan="4">TOTAL:</th>
					<td>{{orderData.sumTotal}}</td>
				</tr>
				</tfoot>
			</table>
			<button type="submit" class="btn btn-primary">Create order</button>
		</form>
	</div>
	<div ng-show="orderData.items.length == 0">There is nothing to order. Add something to the cart.</div>
</div>
</body>
</html>